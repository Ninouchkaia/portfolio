#!/usr/bin/python
# -*- coding: utf-8 -*-

#script that cumulates mapping table from 1st try and 2nd try.
# first versions were generated with the id mapping tool from uniprot website
# second versions were generated from a mapping given by pax-db website

import timeit
start = timeit.default_timer()
import os
import sys
import re
from commands import getoutput # permet d'obtenir l'output d'une commande bash.

species_list = ["10090-M.musculus", "160490-S.pyogenes", "224308-Spectral_counting_B.subtili", "267671-L.interrogans", "3702-A.thaliana", "449447-M.aeruginosa", "4896-S.pombe", "4932-S.cerevisiae", "511145-E.coli", "593117-Spectral_counting_T.gammatolerans", "6239-C.elegans", "7227-D.melanogaster", "83332-M.tuberculosis", "9031-Spectral_counting_G.gallus", "9606-H.sapiens", "9913-B.taurus", "99287-Spectral_counting_S.typhimurium"]

#for species in species_list:
	#print species
	#add_to_file = open("/home/nina/scripts/paxdb/abundance_datasets/fasta_files/%s.fasta" % species, 'a+')
	#fasta_table = open("/home/nina/scripts/paxdb/abundance_datasets/try_1/fasta/%s.fasta" % species)
	#fasta_table = fasta_table.readlines()
	##add_to_file.write("\n")
	#for i in range(0, len(fasta_table)) :
		#add_to_file.write("%s" % fasta_table[i])

	#add_to_file.close()
	
	
	
	
for species in species_list:
	print species
	uniprot_id_list_of_add_to_file = []
	add_to_file = open("/home/nina/scripts/paxdb/abundance_datasets/fasta_files/%s.fasta" % species, 'a+')
	add_to_file_list = add_to_file.readlines()
	for line in add_to_file_list :
		if line[0] == ">" :
			#print line
			uniprot_id_of_add_to_file = line[4:10]
			#print uniprot_id_of_add_to_file
			uniprot_id_list_of_add_to_file.append(uniprot_id_of_add_to_file)
	#print uniprot_id_list_of_add_to_file
	fasta_table = open("/home/nina/scripts/paxdb/abundance_datasets/try_1/fasta/%s.fasta" % species)
	fasta_table = fasta_table.readlines()
	for line in fasta_table:
		if line[0] == ">" :
			#print line
			uniprot_id_of_mapping_table = line[4:10]
		print uniprot_id_of_mapping_table
		#if uniprot_id_of_mapping_table in uniprot_id_list_of_add_to_file :
			#pass
		#else :
			#print line
			#add_to_file.write("%s" % line)

		#if string_id_of_mapping_table in add_to_file_dict :
			#if uniprot_id_of_mapping_table != add_to_file_dict[string_id_of_mapping_table] :
				 ##print mapping_table[i], "OKOKOKO"
				 #add_to_file.write("%s" % mapping_table[i])
			
		#else :
			##print mapping_table[i]
			#add_to_file.write("%s" % mapping_table[i])
			
	add_to_file.close()

stop = timeit.default_timer()
print stop - start 